# 拷贝控制

> 目录
> * 拷贝、赋值与销毁
> * 拷贝控制和资源管理
> * 交换操作
> * 拷贝控制实例
> * 动态内存管理类
> * 对象移动

> 类的特殊函数
> * 初始化——构造函数
> * 拷贝——拷贝构造函数
> * 移动——移动构造函数
> * 赋值——拷贝赋值运算符、移动赋值运算符
> * 销毁——析构函数


## 1. 拷贝构造函数

### 示例
```
class Foo{
    Foo();
    Foo(const Foo&)//拷贝构造函数
}
```
### 合成拷贝构造函数

* 编译器自动生成的拷贝构造函数。从给定的对象中依次将每个非static成员拷贝到正在创建的对象当中。

### 赋值初始化

```
string nies = string("efji");
```
* 当我门使用 赋值= 运算符时，发生赋值初始化，执行拷贝构造函数。
* 将一个对象作为实参传递给一个非引用类型的形参
* 从一个返回类型为费引用类型的函数返回一个对象
* 用花括号列表初始化一个数组中的元素或一个聚合类中的成员

### 拷贝赋值运算符

* 编译器会自动生成合成拷贝赋值运算符
* 需要重载赋值运算符。

## 2 析构函数

### 定义析构函数
* 类的成员函数，由拨浪汉接类名构成，没有返回值，不接受参数。不能被重载，一个类只有一个析构函数。

```
class Foo{
    public:
        ~Foo();
}
```
### 原理
* 在一个析构函数中，首先执行函数体，然后销毁成员。成员按初始化顺序逆序销毁。
* 智能指针成员在西沟阶段会自动销毁。

### 何时调用
* 变量离开作用域被销毁
* 一个对象被销毁
* 容器被销毁
* 动态对象，使用delete





