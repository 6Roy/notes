# Q&A

## LSA链路状态通告信息类型与链路状态描述信息的区别

LSA链路状态通告信息用来实现整个网络结构的链路状态的描述。每个LSA描述一个路由器周围的拓扑结构。不同类别的LSA描述不同类别不同逻辑地位的拓扑结构。

比如第一类用来描述Router状态周围的链路。第二类用来描述以太网连接的网段中DR与周围连接的路由器。第三类到第五类LSA用来描述某个区域的总体特征。

链路状态描述信息用来实现第一类LSA。因为一个路由器周围的链路类型不同，所以用不同的链路状态描述信息表述一个路由器周围的链路具体特点。

## 区别display ospf routing与ospf lsdb

ospf lsdb用来存储链路状态交互后的结果，存储整个链路的拓扑结构。

ospf routing是根据链路的拓扑结构使用SPF算法计算的单源最短路。

## 关于import direct 和import static的理解。

import direct 引入直连路由。将路由器其他接口直连的网段引入到OSPF系统中。能在OSPFlsdb中查看。

import static 引入静态路由。将路由器中手动添加的静态路由直接引入到OSPF系统中。能在OSPFlsdb中查看。


## 网络层实验IP路由转发说明
(网络层 ip路由部分 没有学好啊)


### 路由来源说明

* 直连路由：当路由设备配置连接完成之后，会根据所有的接口IP地址生成直连路由。Proto表示direct。
  * 到每个接口的直接路由地址，NextHop为自身路由器的回环IP地址，接口是InLoop表示会将数据包直接交付给自身。
  * 到每个接口的直连的网段的地址，NextHop为自身路由器连接该网段的IP地址，接口是自身路由器连接该网段的接口。
  ![](image/ip&#32;routing&#32;table.png)
* 动态路由：根据OSPF、RIP、BGP生成的路由。Proto表示是dynamic。
* 静态路由：通过ip-route static 配置的路由，手动导入的路由。Proto表示static。

### 路由转发算法说明

1. 提取IP数据报的IP地址。
2. 直连网络检查。对路由器相连的直连网络逐个检查，如果NextHop为回环地址，Interface为回环接口，直接交付。
3. 若果没有匹配的地址，采取最长前缀匹配机制，找到对应的网段，查看NextHop和Interface字段，找到在路由器上对应的下一跳的地址和本路由器上对应的接口，进行转发。
4. 如果都没有，则丢弃报错。


## 同一个路由器的两个接口能否ping通？


经过测试能ping通。

因为一旦配置连接完成，在路由器内生成直连路由，使得路由器能够ping通各个直连的网段和自身其他接口。

## OSPF相关的表格的总结

> 以后再进行简单的分析

display ospf lsdb

display ospf routing

display ip routing
![](image/ip&#32;routing&#32;table.png)


## OSPF生成带权有向图，如果某个路径双向COST值不同，是否会因此导致A-B和B-A的路由不同？如果真的如此，会出现什么问题，应该怎么避免？如果存在不同那么RPF路径回溯检查会不会出问题。


