#MCS-51 单片机的基础知识介绍

## &gt;单片机内部基本组成

-----

* **功能结构原理图**  
这里有一张图片  
主要部分：中央处理器、特殊功能寄存器、存储器系统、定时/计数器、并行接口，串行接口、中断系统。
* **51单片机内部细化图**  
这里也有一张图片
* **SFR特殊功能寄存器**
这里还有一张图片

## &gt;mcs-51单片机-中央处理器cpu-运算部件

-----

* **ALU 算数逻辑运算单元**  
	1. 八位二进制加减乘除算术运算
	2. 逻辑与、或、异或、循环移位、补、清零等逻辑运算
	3. 置位、清零、求反、测试转移、位逻辑与或非等位运算（在内部的位运算器C/CY当中）
* **ACC 八位寄存器累加器**
	1. 加法运算
* **B 辅助寄存器**
	1. 乘法存放被乘数
	2. 除法存放除数
* **PSW 标志寄存器**
	1. psw.7 进位标志位C
	2. psw.6 辅助进位标志位AC
	3. psw.5 用户自定义标志位F0
	4. psw.4/psw.3 寄存器组RS1/RA0 选择位（选择正在工作的寄存器组）
	5. psw.2 溢出标识位OV
	6. psw.0 奇偶标志位P

## &gt;mcs-51单片机-中央处理器cpu-控制部件

-----

* **控制电路**
* **时序电路**
* **指令寄存器**
* **指令译码器**
* **计数器PC**
* **堆栈指针SP**
* **数据指针DPTR**
* **信息传送控制部件**


## &gt;mcs-51单片机-存储结构

-----

* **程序存储器**
	1. 用于存储单片机工作时的程序。程序计数器（寄存器）PC用于存放要执行的指令的地址，并依次取出执行。使用ROM作为程序存储器。程序计数器有16位，有2<sup>16</sup>个地址码，对应64k的寻址空间。
	2. 物理结构上分为片内存程序储器和片外程序存储器。内部程序存储器大小为0/4kB/8kB，对应寻址地址为0/0000H-0FFFH/0000H-1FFFH,片外程序存储器的寻址地址为片内存储器之后的部分，多余部分的片外存储器不进行寻址。共64KB的地址区域。物理上通过片外程序存储器引脚EA点评的高低来确定。高电平，片内去指令执行，低电平片外取指令执行。
	3. 0000H为单片机系统程序的系统地址。

* **数据存储器**
	1. 程序执行时所需要的数据，片内数据存储器和片外数据存储器。数据计数器有8位地址，2<sup>8</sup>个地址码，用两个16进制数FFH表示，对应256K的寻址空间。
	2. 片内数据存储器：SFR特殊寄存器、RAM程序存储器具有相同的地址空间。51系列单片机，内部数据RAM128字节，地址编码为00H-7FH，寄存器SFR数据128字节，地址编码80H-FFH，地址不重叠。
	3. 片内数据存储器RAM分割为工作寄存器区（地址码00-1FH）、位寻址区（20-2FH）、RAM区（30-7FH），堆栈区（80-FFH）。  
		- 工作寄存器区，32个地址码对应32个字节的空间，分为四组（每组8个字节，储存有8个寄存器的地址码，对应8个寄存器），淡定点默认工作的寄存器组由程序状态字PSW.4/.3，RS0和RS1来决定。
		- 位寻址区，16个地址码对应16个字节的空间128位，支持按位寻址（以前的寻址结果是字节，现在是以为，即一个地址码，对应一位）。
		- 一般RAM区，
		- 堆栈区和堆栈指针SP，按照先入后出的原则进行内存管理。mcs-51单片机为向上生长型，存入数据从低端向高端延伸push，取出数据从高端向低端延伸pop。
	4. 特殊功能寄存器SFR，（这里需要一张图）如果地址码对应寻址空间中的字节，仍是一个地址码，则相当于地址（指针）的嵌套。
	5. 片外数据存储器，最多扩展为64K空间，数据指针DPTR（数据计数器，DPH和DPL，256个字节称为一个页面，即一个字节八位所构成的所有的地址码，能形成一个页面的数据。）
* **常见的存储器类型**
	1. RAM存储器
	2. ROM存储器
	3. PROM存储器、EPROM存储器、EEPROM存储器
	4. FLASHI存储器
> 存储结构可以分为冯诺依曼结构和哈弗结构，前者将程序的指令存储器和数据村粗器放在一块，后者将指令存储器和数据存储器分离了。

## &gt;mcs-51单片机-单片机的输入输出接口

-----

* **I/O接口构成**
	1. 涉及到电路的很多知识，无能为力了。但是感觉都是数字电子技术课上的知识（好多都是诶）。
	2. 四个8位I/O并行接口，输入时具有锁存能力，输出时，具有缓存能力。
	3. 具体的每一个口的电路实现和功能等以后在了解吧。




> 感觉这里的51单片机不能理解为单片机的一个时代，并非其他的单片机都是从这一代产品发展而来的，也并非必须继承51单片机的特点。  
> mcs-51单片机只能说是单片机的某个生产厂商的某个型号，与飞思卡尔系列，Dallas系列，飞利浦系列，Motorola系列等具有并列关系。  
> 单片机的分类，一种方式时按位分类，8/16/32位单片机。或者按照公司及其型号来分。每种单片机具有相同的语言标准（汇编语言通用），也有各自的C高级语言开发环境，其功能大同小异，所以，应该针对某个通用程度比较高的单片机学习即可（mcs-51单片机） 
> 这里的地址编码访问指令时，访问的是字节编码，而非位编码。64KB的寻址空间=2<sup>16</sup>位地址码=2<sup>16</sup>个地址码=4个16进制数FFFFH=两个字节的地址码  
> 寻址空间，就是能通过地址码找到的空间的大小，其中每个地址码对应一个字节，两个字节16位的地址码最多能寻址64K个字节的空间。单个字节8位的地址码，最多能寻址256个字节的空间。

英文简称解读  
[1] SFR special function register 特殊功能寄存器  
[2] ALU arithmetic logical unit 算数/逻辑运算单元  
[3] FIFO first in,first out FIFO队列，先进先出  
[4] MUX multiplexer 数据选择器/多路开关/多路选择器（数电上有所染指）